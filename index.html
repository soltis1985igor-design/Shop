<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–û–ù–ï–ß–ö–û - –ú–∞–≥–∞–∑–∏–Ω —Ç–∞ –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        :root { --primary: #83b735; --bg: #f0f2f5; --white: #ffffff; --text: #2d3436; --shadow: 0 4px 15px rgba(0,0,0,0.05); --border: #e0e0e0; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; background: var(--bg); color: var(--text); }
        
        /* Navbar */
        .navbar { background: var(--white); padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .logo { font-size: 22px; font-weight: 800; color: var(--text); text-decoration: none; }
        .logo span { color: var(--primary); }
        .cart-btn { background: none; border: none; font-size: 24px; cursor: pointer; position: relative; }
        .badge { position: absolute; top: -5px; right: -5px; background: var(--primary); color: white; font-size: 12px; padding: 2px 6px; border-radius: 50%; }

        /* –°–µ–∫—Ü—ñ—ó */
        #shop-section, #checkout-section { display: block; }
        #checkout-section { display: none; padding: 40px 5%; }

        /* –ú–∞–≥–∞–∑–∏–Ω */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; padding: 20px 5%; }
        .card { background: white; border-radius: 20px; padding: 20px; text-align: center; box-shadow: var(--shadow); }
        .card img { width: 100%; height: 150px; object-fit: contain; }
        .btn-buy { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 12px; width: 100%; cursor: pointer; font-weight: bold; margin-top: 10px; transition: 0.3s; }
        .btn-buy:hover { background: #6da32d; }

        /* –î–ò–ó–ê–ô–ù –û–§–û–†–ú–õ–ï–ù–ù–Ø (–Ø–ö –ù–ê –°–ö–†–Ü–ù–®–û–¢–Ü) */
        .checkout-container { display: flex; gap: 30px; max-width: 1100px; margin: 0 auto; align-items: flex-start; }
        .checkout-main { flex: 2; }
        .checkout-sidebar { flex: 1; background: white; border-radius: 25px; padding: 25px; box-shadow: var(--shadow); position: sticky; top: 100px; }
        
        .step-card { background: white; border-radius: 25px; padding: 30px; margin-bottom: 25px; box-shadow: var(--shadow); }
        .step-title { display: flex; align-items: center; gap: 15px; font-size: 18px; font-weight: bold; margin-bottom: 20px; }
        .step-num { background: var(--primary); color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; }
        
        .form-row { display: flex; gap: 15px; margin-bottom: 15px; }
        .form-group { flex: 1; }
        .form-input { width: 100%; padding: 12px 15px; border: 1px solid #e5e7eb; border-radius: 10px; font-size: 14px; box-sizing: border-box; background: #fafafa; }
        
        .delivery-grid, .payment-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .option-card { border: 2px solid #f0f0f0; border-radius: 15px; padding: 20px; text-align: center; cursor: pointer; transition: 0.3s; }
        .option-card.active { border-color: #ff4d4d; background: #fffafa; }
        .option-card img { height: 30px; margin-bottom: 10px; display: block; margin-left: auto; margin-right: auto; }
        .option-card.payment.active { border-color: var(--primary); background: #fafffa; }

        .total-price-text { color: var(--primary); font-size: 24px; font-weight: 800; margin: 15px 0; }
        .btn-confirm-large { background: var(--primary); color: white; border: none; padding: 18px; border-radius: 15px; width: 100%; font-size: 18px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 15px rgba(131, 183, 53, 0.3); }

        /* –ö–æ—à–∏–∫ */
        .cart-drawer { position: fixed; right: -100%; top: 0; width: 350px; height: 100%; background: white; z-index: 2000; transition: 0.4s; padding: 25px; box-shadow: -5px 0 20px rgba(0,0,0,0.1); }
        .cart-drawer.active { right: 0; }
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); display: none; z-index: 1500; }

        @media (max-width: 900px) {
            .checkout-container { flex-direction: column; }
            .checkout-sidebar { position: static; width: 100%; box-sizing: border-box; }
        }
    </style>
</head>
<body>

<div class="overlay" id="overlay" onclick="closeCart()"></div>

<nav class="navbar">
    <a href="#" class="logo" onclick="showShop()">–°–£–ü–ï–†–ú–ê–†–ö–ï–¢ <span>–°–û–ù–ï–ß–ö–û</span></a>
    <button class="cart-btn" onclick="openCart()">üõí <span class="badge" id="cart-count">0</span></button>
</nav>

<div id="shop-section">
    <div class="grid" id="products"></div>
</div>

<div id="checkout-section">
    <h1 style="text-align: center; margin-bottom: 30px;">–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h1>
    
    <div class="checkout-container">
        <form class="checkout-main" id="order-form">
            <div class="step-card">
                <div class="step-title"><div class="step-num">1</div> –í–∞—à—ñ –¥–∞–Ω—ñ</div>
                <div class="form-row">
                    <input type="text" name="–ü—Ä—ñ–∑–≤–∏—â–µ" class="form-input" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ" required>
                    <input type="text" name="–Ü–º'—è" class="form-input" placeholder="–Ü–º'—è" required>
                    <input type="text" name="–ü–æ-–±–∞—Ç—å–∫–æ–≤—ñ" class="form-input" placeholder="–ü–æ-–±–∞—Ç—å–∫–æ–≤—ñ">
                </div>
                <input type="tel" name="–¢–µ–ª–µ—Ñ–æ–Ω" class="form-input" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É (+380...)" required>
            </div>

            <div class="step-card">
                <div class="step-title"><div class="step-num">2</div> –î–æ—Å—Ç–∞–≤–∫–∞</div>
                <div class="delivery-grid">
                    <div class="option-card active" onclick="selectDelivery('np', this)">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/9/96/Nova_Poshta_2014_logo.svg" alt="NP">
                        <span style="color: #ff392e; font-weight: bold; font-size: 12px;">–ù–û–í–ê –ü–û–®–¢–ê</span>
                    </div>
                    <div class="option-card" onclick="selectDelivery('up', this)">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/0/01/Ukrposhta-logo.svg" alt="UP">
                        <span style="color: #ffcc00; font-weight: bold; font-size: 12px;">–£–ö–†–ü–û–®–¢–ê</span>
                    </div>
                </div>
                <input type="text" name="–ú—ñ—Å—Ç–æ" class="form-input" style="margin-top: 15px;" placeholder="–ú—ñ—Å—Ç–æ / –°–µ–ª–æ (–ø–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏...)" required>
                <input type="text" name="–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è" class="form-input" style="margin-top: 15px;" placeholder="–û–±–µ—Ä—ñ—Ç—å –Ω–æ–º–µ—Ä –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è..." required>
            </div>

            <div class="step-card">
                <div class="step-title"><div class="step-num">3</div> –û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ</div>
                <div class="payment-grid">
                    <div class="option-card payment active" onclick="selectPayment('cash', this)">
                        <span style="font-size: 20px;">üíµ</span><br>
                        <span style="font-weight: bold; font-size: 12px;">–ì–û–¢–Ü–í–ö–ê</span>
                    </div>
                    <div class="option-card payment" onclick="selectPayment('card', this)">
                        <span style="font-size: 20px;">üí≥</span><br>
                        <span style="font-weight: bold; font-size: 12px; color: #999;">–ö–ê–†–¢–û–Æ <br><small>–í —Ä–æ–∑—Ä–æ–±—Ü—ñ</small></span>
                    </div>
                </div>
                <textarea name="–ö–æ–º–µ–Ω—Ç–∞—Ä" class="form-input" style="margin-top: 15px; height: 80px;" placeholder="–ö–æ–º–µ–Ω—Ç–∞—Ä –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)..."></textarea>
            </div>

            <input type="hidden" name="–¢–æ–≤–∞—Ä–∏" id="hidden-items">
            <input type="hidden" name="–°—É–º–∞" id="hidden-total">
        </form>

        <div class="checkout-sidebar">
            <h3 style="margin-top: 0;">–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
            <div id="checkout-list" style="font-size: 14px; color: #666; margin-bottom: 20px;"></div>
            <div style="border-top: 1px solid #eee; padding-top: 15px;">
                <div class="total-price-text">–°—É–º–∞ –∑–≥—ñ–¥–Ω–æ –∑ –∫–æ—à–∏–∫–æ–º</div>
                <div style="font-size: 32px; font-weight: 800; color: var(--primary); margin-bottom: 20px;"><span id="final-sum">0</span> –≥—Ä–Ω</div>
                <button type="button" class="btn-confirm-large" onclick="submitOrder()">–ü–Ü–î–¢–í–ï–†–î–ò–¢–ò</button>
            </div>
        </div>
    </div>
</div>

<div class="cart-drawer" id="cart-drawer">
    <h2>–ö–æ—à–∏–∫</h2>
    <div id="cart-content" style="height: 70%; overflow-y: auto;"></div>
    <div style="border-top: 1px solid #eee; padding-top: 20px;">
        <p>–†–∞–∑–æ–º: <b><span id="total-sum">0</span> –≥—Ä–Ω</b></p>
        <button class="btn-confirm-large" onclick="goToCheckout()">–û–§–û–†–ú–ò–¢–ò</button>
    </div>
</div>

<script>
    let cart = [];
    const products = [
        { id: 1, name: "Dada Extra Soft 6", price: 250, img: "https://i.ibb.co/vyDyh7g/image.jpg" },
        { id: 2, name: "–ö–æ—Ä–º Kitty 2–∫–≥", price: 250, img: "https://i.ibb.co/2FDgpWxPc3/2F619939933.webp" },
        { id: 3, name: "Ariel Gel 5.5L", price: 600, img: "https://i.ibb.co/dsyN5hwf/image-processing20250930-161-45fnds.webp" }
    ];

    function renderProducts() {
        document.getElementById('products').innerHTML = products.map(p => `
            <div class="card">
                <img src="${p.img}">
                <h4>${p.name}</h4>
                <p><b>${p.price} –≥—Ä–Ω</b></p>
                <button class="btn-buy" onclick="addToCart(${p.id})">–£ –∫–æ—à–∏–∫</button>
            </div>
        `).join('');
    }

    function addToCart(id) {
        let p = products.find(x => x.id === id);
        let inCart = cart.find(x => x.id === id);
        if (inCart) inCart.qty++; else cart.push({...p, qty: 1});
        updateCart();
        openCart();
    }

    function updateCart() {
        let total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
        document.getElementById('cart-count').innerText = cart.length;
        document.getElementById('total-sum').innerText = total;
        document.getElementById('final-sum').innerText = total;
        
        document.getElementById('cart-content').innerHTML = cart.map(item => `
            <div style="display:flex; justify-content:space-between; margin-bottom:15px; font-size:14px;">
                <span>${item.name} x${item.qty}</span>
                <b>${item.price * item.qty} –≥—Ä–Ω</b>
            </div>
        `).join('');

        document.getElementById('checkout-list').innerHTML = cart.map(item => `
            <div>${item.name} (x${item.qty})</div>
        `).join('');
    }

    function openCart() { 
        document.getElementById('cart-drawer').classList.add('active'); 
        document.getElementById('overlay').style.display = 'block';
    }
    
    function closeCart() { 
        document.getElementById('cart-drawer').classList.remove('active'); 
        document.getElementById('overlay').style.display = 'none';
    }

    function goToCheckout() {
        if (cart.length === 0) return alert("–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π!");
        closeCart();
        document.getElementById('shop-section').style.display = 'none';
        document.getElementById('checkout-section').style.display = 'block';
        window.scrollTo(0,0);
        
        document.getElementById('hidden-items').value = cart.map(i => `${i.name} x${i.qty}`).join(', ');
        document.getElementById('hidden-total').value = document.getElementById('final-sum').innerText + " –≥—Ä–Ω";
    }

    function showShop() {
        document.getElementById('shop-section').style.display = 'block';
        document.getElementById('checkout-section').style.display = 'none';
    }

    function selectDelivery(type, el) {
        document.querySelectorAll('.delivery-grid .option-card').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
    }

    function selectPayment(type, el) {
        if(type === 'card') return alert("–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ—é —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞");
        document.querySelectorAll('.payment-grid .option-card').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
    }

    function submitOrder() {
        const form = document.getElementById('order-form');
        if(!form.checkValidity()) return form.reportValidity();

        const btn = document.querySelector('.btn-confirm-large');
        btn.innerText = "–í–Ü–î–ü–†–ê–í–õ–Ø–Ñ–ú–û...";
        
        fetch("https://formspree.io/f/mzdvkpqk", {
            method: "POST",
            body: new FormData(form),
            headers: { 'Accept': 'application/json' }
        }).then(() => {
            alert("–î—è–∫—É—î–º–æ! –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ.");
            cart = [];
            updateCart();
            showShop();
            btn.innerText = "–ü–Ü–î–¢–í–ï–†–î–ò–¢–ò";
        });
    }

    renderProducts();
</script>

</body>
</html>
